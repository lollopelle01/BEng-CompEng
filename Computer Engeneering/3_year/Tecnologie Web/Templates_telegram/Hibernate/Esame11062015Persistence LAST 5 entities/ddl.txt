drop table accertamento;
drop table paziente;
drop table richiestamedica;
drop table struttura;
drop table tipoaccertamento;
drop table tipoaccertamento_struttura;




create table accertamento (id integer generated by default as identity, codice varchar(255), esito varchar(255), richiestamedica integer not null, tipoaccertamento integer not null, primary key (id));
create table paziente (id integer generated by default as identity, codicefiscale varchar(255), nome varchar(255), cognome varchar(255), sesso varchar(255), primary key (id));
create table richiestamedica (id integer generated by default as identity, nomemedico varchar(255), data timestamp, codicepaziente integer not null, primary key (id));
create table struttura (id integer generated by default as identity, codice varchar(255), nome varchar(255), indirizzo varchar(255), primary key (id));
create table tipoaccertamento (id integer generated by default as identity, codice varchar(255), descrizione varchar(255), primary key (id));
create table tipoaccertamento_struttura (idstruttura integer not null, idtipoaccertamento integer not null, primary key (idstruttura, idtipoaccertamento));
alter table accertamento add constraint FK5C75D3D683CD815C foreign key (richiestamedica) references richiestamedica;
alter table accertamento add constraint FK5C75D3D6A60367E foreign key (tipoaccertamento) references tipoaccertamento;
alter table richiestamedica add constraint FKEF0BDB633D772CD1 foreign key (codicepaziente) references paziente;
alter table tipoaccertamento_struttura add constraint FK2FFE6C0B2C90AD99 foreign key (idtipoaccertamento) references tipoaccertamento;
alter table tipoaccertamento_struttura add constraint FK2FFE6C0BB9B56A3B foreign key (idstruttura) references struttura;
